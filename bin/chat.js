// Generated by LiveScript 1.6.0
var nodeFetch, chat;
nodeFetch = require('node-fetch');
chat = function(o){
  var model, messages, temperature, opt;
  o == null && (o = {});
  model = o.model || 'gpt-4o';
  messages = o.messages || [{
    role: 'user',
    content: 'hello there'
  }];
  temperature = o.temperature || 0.8;
  opt = {
    method: 'POST',
    headers: {
      "Content-Type": "application/json",
      "Authorization": "Bearer " + o.key
    },
    body: JSON.stringify({
      model: model,
      messages: messages,
      temperature: temperature,
      seed: o.seed,
      user: o.user,
      response_format: o.response_format,
      max_tokens: o.max_tokens
    })
  };
  return nodeFetch('https://api.openai.com/v1/chat/completions', opt).then(function(ret){
    if (ret.ok) {
      return ret.json();
    }
    return ret.text().then(function(msg){
      var ref$;
      return Promise.reject((ref$ = new Error(msg), ref$.status = ret.status, ref$));
    });
  }).then(function(ret){
    return {
      raw: ret,
      message: ((ret.choices || (ret.choices = []))[0] || {}).message.content
    };
  });
};
module.exports = chat;